//!function(a){"use strict";function p(b,c,d){"addEventListener"in a?b.addEventListener(c,d,!1):"attachEvent"in a&&b.attachEvent("on"+c,d)}function q(b,c,d){"removeEventListener"in a?b.removeEventListener(c,d,!1):"detachEvent"in a&&b.detachEvent("on"+c,d)}function r(){var c,b=["moz","webkit","o","ms"];for(c=0;c<b.length&&!j;c+=1)j=a[b[c]+"RequestAnimationFrame"];j||v("setup","RequestAnimationFrame not supported")}function s(b){var c="Host page: "+b;return a.top!==a.self&&(c=a.parentIFrame&&a.parentIFrame.getId?a.parentIFrame.getId()+": "+b:"Nested host page: "+b),c}function t(a){return g+"["+s(a)+"]"}function u(a){return l[a]?l[a].log:c}function v(a,b){y("log",a,b,u(a))}function w(a,b){y("info",a,b,u(a))}function x(a,b){y("warn",a,b,0)}function y(b,c,d,e){!0===e&&"object"==typeof a.console&&console[b](t(c),d)}function z(b){function c(){function a(){G(V),D(W)}e("Height"),e("Width"),H(a,V,"init")}function d(){var a=U.substr(h).split(":");return{iframe:l[a[0]].iframe,id:a[0],height:a[1],width:a[2],type:a[3]}}function e(a){var b=Number(l[W]["max"+a]),c=Number(l[W]["min"+a]),d=a.toLowerCase(),e=Number(V[d]);v(W,"Checking "+d+" is in range "+c+"-"+b),e<c&&(e=c,v(W,"Set "+d+" to min value")),e>b&&(e=b,v(W,"Set "+d+" to max value")),V[d]=""+e}function j(){function a(){function a(){var a=0,b=!1;for(v(W,"Checking connection is from allowed list of origins: "+d);a<d.length;a++)if(d[a]===c){b=!0;break}return b}function b(){var a=l[W].remoteHost;return v(W,"Checking connection is from: "+a),c===a}return d.constructor===Array?a():b()}var c=b.origin,d=l[W].checkOrigin;if(d&&""+c!="null"&&!a())throw new Error("Unexpected message received from: "+c+" for "+V.iframe.id+". Message was: "+b.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function k(){return g===(""+U).substr(0,h)&&U.substr(h).split(":")[0]in l}function m(){var a=V.type in{true:1,false:1,undefined:1};return a&&v(W,"Ignoring init message from meta parent page"),a}function o(a){return U.substr(U.indexOf(":")+f+a)}function r(a){v(W,"MessageCallback passed: {iframe: "+V.iframe.id+", message: "+a+"}"),P("messageCallback",{iframe:V.iframe,message:JSON.parse(a)}),v(W,"--")}function s(){var b=document.body.getBoundingClientRect(),c=V.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:c.height,iframeWidth:c.width,clientHeight:Math.max(document.documentElement.clientHeight,a.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,a.innerWidth||0),offsetTop:parseInt(c.top-b.top,10),offsetLeft:parseInt(c.left-b.left,10),scrollTop:a.pageYOffset,scrollLeft:a.pageXOffset})}function t(a,b){function c(){I("Send Page Info","pageInfo:"+s(),a,b)}L(c,32)}function u(){function b(b,d){function f(){l[e]?t(l[e].iframe,e):c()}["scroll","resize"].forEach(function(c){v(e,b+c+" listener for sendPageInfo"),d(a,c,f)})}function c(){b("Remove ",q)}function d(){b("Add ",p)}var e=W;d(),l[e].stopPageInfo=c}function y(){l[W]&&l[W].stopPageInfo&&(l[W].stopPageInfo(),delete l[W].stopPageInfo)}function z(){var a=!0;return null===V.iframe&&(x(W,"IFrame ("+V.id+") not found"),a=!1),a}function K(a){var b=a.getBoundingClientRect();return C(W),{x:Math.floor(Number(b.left)+Number(i.x)),y:Math.floor(Number(b.top)+Number(i.y))}}function M(b){function c(){i=g,N(),v(W,"--")}function d(){return{x:Number(V.width)+f.x,y:Number(V.height)+f.y}}function e(){a.parentIFrame?a.parentIFrame["scrollTo"+(b?"Offset":"")](g.x,g.y):x(W,"Unable to scroll to requested position, window.parentIFrame not found")}var f=b?K(V.iframe):{x:0,y:0},g=d();v(W,"Reposition requested from iFrame (offset x:"+f.x+" y:"+f.y+")"),a.top!==a.self?e():c()}function N(){!1!==P("scrollCallback",i)?D(W):E()}function O(b){function c(){var a=K(g);v(W,"Moving to in page link (#"+e+") at x: "+a.x+" y: "+a.y),i={x:a.x,y:a.y},N(),v(W,"--")}function d(){a.parentIFrame?a.parentIFrame.moveToAnchor(e):v(W,"In page link #"+e+" not found and window.parentIFrame not found")}var e=b.split("#")[1]||"",f=decodeURIComponent(e),g=document.getElementById(f)||document.getElementsByName(f)[0];g?c():a.top!==a.self?d():v(W,"In page link #"+e+" not found")}function P(a,b){return A(W,a,b)}function Q(){switch(l[W].firstRun&&T(),V.type){case"close":B(V.iframe);break;case"message":r(o(6));break;case"scrollTo":M(!1);break;case"scrollToOffset":M(!0);break;case"pageInfo":t(l[W].iframe,W),u();break;case"pageInfoStop":y();break;case"inPageLink":O(o(9));break;case"reset":F(V);break;case"init":c(),P("initCallback",V.iframe),P("resizedCallback",V);break;default:c(),P("resizedCallback",V)}}function R(a){var b=!0;return l[a]||(b=!1,x(V.type+" No settings for "+a+". Message was: "+U)),b}function S(){for(var a in l)I("iFrame requested init",J(a),document.getElementById(a),a)}function T(){l[W].firstRun=!1}var U=b.data,V={},W=null;"[iFrameResizerChild]Ready"===U?S():k()?(V=d(),W=n=V.id,!m()&&R(W)&&(v(W,"Received: "+U),z()&&j()&&Q())):w(W,"Ignored: "+U)}function A(a,b,c){var d=null,e=null;if(l[a]){if(d=l[a][b],"function"!=typeof d)throw new TypeError(b+" on iFrame["+a+"] is not a function");e=d(c)}return e}function B(a){var b=a.id;v(b,"Removing iFrame: "+b),a.parentNode.removeChild(a),A(b,"closedCallback",b),v(b,"--"),delete l[b]}function C(b){null===i&&(i={x:void 0!==a.pageXOffset?a.pageXOffset:document.documentElement.scrollLeft,y:void 0!==a.pageYOffset?a.pageYOffset:document.documentElement.scrollTop},v(b,"Get page position: "+i.x+","+i.y))}function D(b){null!==i&&(a.scrollTo(i.x,i.y),v(b,"Set page position: "+i.x+","+i.y),E())}function E(){i=null}function F(a){function b(){G(a),I("reset","reset",a.iframe,a.id)}v(a.id,"Size reset requested by "+("init"===a.type?"host page":"iFrame")),C(a.id),H(b,a,"reset")}function G(a){function b(b){a.iframe.style[b]=a[b]+"px",v(a.id,"IFrame ("+f+") "+b+" set to "+a[b]+"px")}function c(b){d||"0"!==a[b]||(d=!0,v(f,"Hidden iFrame detected, creating visibility listener"),M())}function e(a){b(a),c(a)}var f=a.iframe.id;l[f]&&(l[f].sizeHeight&&e("height"),l[f].sizeWidth&&e("width"))}function H(a,b,c){c!==b.type&&j?(v(b.id,"Requesting animation frame"),j(a)):a()}function I(a,b,c,d){function e(){var e=l[d].targetOrigin;v(d,"["+a+"] Sending msg to iframe["+d+"] ("+b+") targetOrigin: "+e),c.contentWindow.postMessage(g+b,e)}function f(){w(d,"["+a+"] IFrame("+d+") not found"),l[d]&&delete l[d]}function h(){c&&"contentWindow"in c&&null!==c.contentWindow?e():f()}d=d||c.id,l[d]&&h()}function J(a){return a+":"+l[a].bodyMarginV1+":"+l[a].sizeWidth+":"+l[a].log+":"+l[a].interval+":"+l[a].enablePublicMethods+":"+l[a].autoResize+":"+l[a].bodyMargin+":"+l[a].heightCalculationMethod+":"+l[a].bodyBackground+":"+l[a].bodyPadding+":"+l[a].tolerance+":"+l[a].inPageLinks+":"+l[a].resizeFrom+":"+l[a].widthCalculationMethod}function K(a,d){function e(){function b(b){1/0!==l[y][b]&&0!==l[y][b]&&(a.style[b]=l[y][b]+"px",v(y,"Set "+b+" = "+l[y][b]+"px"))}function c(a){if(l[y]["min"+a]>l[y]["max"+a])throw new Error("Value for min"+a+" can not be greater than max"+a)}c("Height"),c("Width"),b("maxHeight"),b("minHeight"),b("maxWidth"),b("minWidth")}function f(){var a=d&&d.id||o.id+b++;return null!==document.getElementById(a)&&(a+=b++),a}function g(b){return n=b,""===b&&(a.id=b=f(),c=(d||{}).log,n=b,v(b,"Added missing iframe ID: "+b+" ("+a.src+")")),b}function h(){v(y,"IFrame scrolling "+(l[y].scrolling?"enabled":"disabled")+" for "+y),a.style.overflow=!1===l[y].scrolling?"hidden":"auto",a.scrolling=!1===l[y].scrolling?"no":"yes"}function i(){"number"!=typeof l[y].bodyMargin&&"0"!==l[y].bodyMargin||(l[y].bodyMarginV1=l[y].bodyMargin,l[y].bodyMargin=""+l[y].bodyMargin+"px")}function j(){var b=l[y].firstRun,c=l[y].heightCalculationMethod in k;!b&&c&&F({iframe:a,height:0,width:0,type:"init"})}function m(){Function.prototype.bind&&(l[y].iframe.iFrameResizer={close:B.bind(null,l[y].iframe),resize:I.bind(null,"Window resize","resize",l[y].iframe),moveToAnchor:function(a){I("Move to anchor","moveToAnchor:"+a,l[y].iframe,y)},sendMessage:function(a){a=JSON.stringify(a),I("Send Message","message:"+a,l[y].iframe,y)}})}function q(b){function c(){I("iFrame.onload",b,a),j()}p(a,"load",c),I("init",b,a)}function r(a){if("object"!=typeof a)throw new TypeError("Options is not an object")}function s(a){for(var b in o)o.hasOwnProperty(b)&&(l[y][b]=a.hasOwnProperty(b)?a[b]:o[b])}function t(a){return""===a||"file://"===a?"*":a}function u(b){b=b||{},l[y]={firstRun:!0,iframe:a,remoteHost:a.src.split("/").slice(0,3).join("/")},r(b),s(b),l[y].targetOrigin=!0===l[y].checkOrigin?t(l[y].remoteHost):"*"}function w(){return y in l&&"iFrameResizer"in a}var y=g(a.id);w()?x(y,"Ignored iFrame, already setup."):(u(d),h(),e(),i(),q(J(y)),m())}function L(a,b){null===m&&(m=setTimeout(function(){m=null,a()},b))}function M(){function b(){function a(a){function b(b){return"0px"===l[a].iframe.style[b]}function c(a){return null!==a.offsetParent}c(l[a].iframe)&&(b("height")||b("width"))&&I("Visibility change","resize",l[a].iframe,a)}for(var b in l)a(b)}function c(a){v("window","Mutation observed: "+a[0].target+" "+a[0].type),L(b,16)}function d(){var a=document.querySelector("body"),b={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},d=new e(c);d.observe(a,b)}var e=a.MutationObserver||a.WebKitMutationObserver;e&&d()}function N(a){function b(){P("Window "+a,"resize")}v("window","Trigger event: "+a),L(b,16)}function O(){function a(){P("Tab Visable","resize")}"hidden"!==document.visibilityState&&(v("document","Trigger event: Visiblity change"),L(a,16))}function P(a,b){function c(a){return"parent"===l[a].resizeFrom&&l[a].autoResize&&!l[a].firstRun}for(var d in l)c(d)&&I(a,b,document.getElementById(d),d)}function Q(){p(a,"message",z),p(a,"resize",function(){N("resize")}),p(document,"visibilitychange",O),p(document,"-webkit-visibilitychange",O),p(a,"focusin",function(){N("focus")}),p(a,"focus",function(){N("focus")})}function R(){function a(a,c){function d(){if(!c.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==c.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+c.tagName+">")}c&&(d(),K(c,a),b.push(c))}var b;return r(),Q(),function(d,e){switch(b=[],typeof e){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(e||"iframe"),a.bind(void 0,d));break;case"object":a(d,e);break;default:throw new TypeError("Unexpected data type ("+typeof e+")")}return b}}function S(a){a.fn?a.fn.iFrameResize=function(b){function c(a,c){K(c,b)}return this.filter("iframe").each(c).end()}:w("","Unable to bind to jQuery, it is not fully loaded.")}var b=0,c=!1,d=!1,e="message",f=e.length,g="[iFrameSizer]",h=g.length,i=null,j=a.requestAnimationFrame,k={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},l={},m=null,n="Host Page",o={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!1,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){x("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};a.jQuery&&S(jQuery),"function"==typeof define&&define.amd?define([],R):"object"==typeof module&&"object"==typeof module.exports?module.exports=R():a.iFrameResize=a.iFrameResize||R()}(window||{});
!function(e){"use strict";var n,t=0,i=!1,o=!1,r="message".length,a="[iFrameSizer]",s=a.length,c=null,f=e.requestAnimationFrame,u={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},l={},d=null,m={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!1,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!0,sizeHeight:!0,sizeWidth:!1,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){w("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};function g(n,t,i){"addEventListener"in e?n.addEventListener(t,i,!1):"attachEvent"in e&&n.attachEvent("on"+t,i)}function h(n,t,i){"removeEventListener"in e?n.removeEventListener(t,i,!1):"detachEvent"in e&&n.detachEvent("on"+t,i)}function p(n){return a+"["+function(n){var t="Host page: "+n;return e.top!==e.self&&(t=e.parentIFrame&&e.parentIFrame.getId?e.parentIFrame.getId()+": "+n:"Nested host page: "+n),t}(n)+"]"}function b(e){return l[e]?l[e].log:i}function y(e,n){k("log",e,n,b(e))}function v(e,n){k("info",e,n,b(e))}function w(e,n){k("warn",e,n,!1)}function k(n,t,i,o){!0===o&&"object"==typeof e.console&&console[n](p(t),i)}function x(n){function t(){i("Height"),i("Width"),R(function(){O(H),z(P)},H,"init")}function i(e){var n=Number(l[P]["max"+e]),t=Number(l[P]["min"+e]),i=e.toLowerCase(),o=Number(H[i]);y(P,"Checking "+i+" is in range "+t+"-"+n),o<t&&(o=t,y(P,"Set "+i+" to min value")),o>n&&(o=n,y(P,"Set "+i+" to max value")),H[i]=""+o}function o(e){return W.substr(W.indexOf(":")+r+e)}function f(n,t){S(function(){var i,o;T("Send Page Info","pageInfo:"+(i=document.body.getBoundingClientRect(),o=H.iframe.getBoundingClientRect(),JSON.stringify({iframeHeight:o.height,iframeWidth:o.width,clientHeight:Math.max(document.documentElement.clientHeight,e.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,e.innerWidth||0),offsetTop:parseInt(o.top-i.top,10),offsetLeft:parseInt(o.left-i.left,10),scrollTop:e.pageYOffset,scrollLeft:e.pageXOffset})),n,t)},32)}function u(e){var n=e.getBoundingClientRect();return M(P),{x:Math.floor(Number(n.left)+Number(c.x)),y:Math.floor(Number(n.top)+Number(c.y))}}function d(n){var t=n?u(H.iframe):{x:0,y:0},i={x:Number(H.width)+t.x,y:Number(H.height)+t.y};y(P,"Reposition requested from iFrame (offset x:"+t.x+" y:"+t.y+")"),e.top!==e.self?e.parentIFrame?e.parentIFrame["scrollTo"+(n?"Offset":"")](i.x,i.y):w(P,"Unable to scroll to requested position, window.parentIFrame not found"):(c=i,m(),y(P,"--"))}function m(){!1!==p("scrollCallback",c)?z(P):E()}function p(e,n){return I(P,e,n)}var b,k,x,W=n.data,H={},P=null;"[iFrameResizerChild]Ready"===W?function(){for(var e in l)T("iFrame requested init",N(e),document.getElementById(e),e)}():a===(""+W).substr(0,s)&&W.substr(s).split(":")[0]in l?(x=W.substr(s).split(":"),H={iframe:l[x[0]].iframe,id:x[0],height:x[1],width:x[2],type:x[3]},P=H.id,(k=H.type in{true:1,false:1,undefined:1})&&y(P,"Ignoring init message from meta parent page"),!k&&function(e){var n=!0;return l[e]||(n=!1,w(H.type+" No settings for "+e+". Message was: "+W)),n}(P)&&(y(P,"Received: "+W),b=!0,null===H.iframe&&(w(P,"IFrame ("+H.id+") not found"),b=!1),b&&function(){var e,t=n.origin,i=l[P].checkOrigin;if(i&&""+t!="null"&&!(i.constructor===Array?function(){var e=0,n=!1;for(y(P,"Checking connection is from allowed list of origins: "+i);e<i.length;e++)if(i[e]===t){n=!0;break}return n}():(e=l[P].remoteHost,y(P,"Checking connection is from: "+e),t===e)))throw new Error("Unexpected message received from: "+t+" for "+H.iframe.id+". Message was: "+n.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(l[P].firstRun&&(l[P].firstRun=!1),H.type){case"close":F(H.iframe);break;case"message":b=o(6),y(P,"MessageCallback passed: {iframe: "+H.iframe.id+", message: "+b+"}"),p("messageCallback",{iframe:H.iframe,message:JSON.parse(b)}),y(P,"--");break;case"scrollTo":d(!1);break;case"scrollToOffset":d(!0);break;case"pageInfo":f(l[P].iframe,P),function(){function n(n,o){function r(){l[i]?f(l[i].iframe,i):t()}["scroll","resize"].forEach(function(t){y(i,n+t+" listener for sendPageInfo"),o(e,t,r)})}function t(){n("Remove ",h)}var i=P;n("Add ",g),l[i].stopPageInfo=t}();break;case"pageInfoStop":l[P]&&l[P].stopPageInfo&&(l[P].stopPageInfo(),delete l[P].stopPageInfo);break;case"inPageLink":n=o(9),r=n.split("#")[1]||"",a=decodeURIComponent(r),(s=document.getElementById(a)||document.getElementsByName(a)[0])?(i=u(s),y(P,"Moving to in page link (#"+r+") at x: "+i.x+" y: "+i.y),c={x:i.x,y:i.y},m(),y(P,"--")):e.top!==e.self?e.parentIFrame?e.parentIFrame.moveToAnchor(r):y(P,"In page link #"+r+" not found and window.parentIFrame not found"):y(P,"In page link #"+r+" not found");break;case"reset":C(H);break;case"init":t(),p("initCallback",H.iframe),p("resizedCallback",H);break;default:t(),p("resizedCallback",H)}var n,i,r,a,s,b}())):v(P,"Ignored: "+W)}function I(e,n,t){var i=null,o=null;if(l[e]){if("function"!=typeof(i=l[e][n]))throw new TypeError(n+" on iFrame["+e+"] is not a function");o=i(t)}return o}function F(e){var n=e.id;y(n,"Removing iFrame: "+n),e.parentNode.removeChild(e),I(n,"closedCallback",n),y(n,"--"),delete l[n]}function M(n){null===c&&y(n,"Get page position: "+(c={x:void 0!==e.pageXOffset?e.pageXOffset:document.documentElement.scrollLeft,y:void 0!==e.pageYOffset?e.pageYOffset:document.documentElement.scrollTop}).x+","+c.y)}function z(n){null!==c&&(e.scrollTo(c.x,c.y),y(n,"Set page position: "+c.x+","+c.y),E())}function E(){c=null}function C(e){y(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),M(e.id),R(function(){O(e),T("reset","reset",e.iframe,e.id)},e,"reset")}function O(n){function t(t){o||"0"!==n[t]||(o=!0,y(r,"Hidden iFrame detected, creating visibility listener"),function(){function n(){function e(e){function n(n){return"0px"===l[e].iframe.style[n]}null!==l[e].iframe.offsetParent&&(n("height")||n("width"))&&T("Visibility change","resize",l[e].iframe,e)}for(var n in l)e(n)}function t(e){y("window","Mutation observed: "+e[0].target+" "+e[0].type),S(n,16)}var i=e.MutationObserver||e.WebKitMutationObserver;i&&(o=document.querySelector("body"),new i(t).observe(o,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}));var o}())}function i(e){!function(e){n.iframe.style[e]=n[e]+"px",y(n.id,"IFrame ("+r+") "+e+" set to "+n[e]+"px")}(e),t(e)}var r=n.iframe.id;l[r]&&(l[r].sizeHeight&&i("height"),l[r].sizeWidth&&i("width"))}function R(e,n,t){t!==n.type&&f?(y(n.id,"Requesting animation frame"),f(e)):e()}function T(e,n,t,i){var o;i=i||t.id,l[i]&&(t&&"contentWindow"in t&&null!==t.contentWindow?(o=l[i].targetOrigin,y(i,"["+e+"] Sending msg to iframe["+i+"] ("+n+") targetOrigin: "+o),t.contentWindow.postMessage(a+n,o)):(v(i,"["+e+"] IFrame("+i+") not found"),l[i]&&delete l[i]))}function N(e){return e+":"+l[e].bodyMarginV1+":"+l[e].sizeWidth+":"+l[e].log+":"+l[e].interval+":"+l[e].enablePublicMethods+":"+l[e].autoResize+":"+l[e].bodyMargin+":"+l[e].heightCalculationMethod+":"+l[e].bodyBackground+":"+l[e].bodyPadding+":"+l[e].tolerance+":"+l[e].inPageLinks+":"+l[e].resizeFrom+":"+l[e].widthCalculationMethod}function W(e,n){var o,r=function(o){var r;return o,""===o&&(e.id=(r=n&&n.id||m.id+t++,null!==document.getElementById(r)&&(r+=t++),o=r),i=(n||{}).log,o,y(o,"Added missing iframe ID: "+o+" ("+e.src+")")),o}(e.id);r in l&&"iFrameResizer"in e||(!function(n){var t;n=n||{},l[r]={firstRun:!0,iframe:e,remoteHost:e.src.split("/").slice(0,3).join("/")},function(e){if("object"!=typeof e)throw new TypeError("Options is not an object")}(n),function(e){for(var n in m)m.hasOwnProperty(n)&&(l[r][n]=e.hasOwnProperty(n)?e[n]:m[n])}(n),l[r].targetOrigin=!0===l[r].checkOrigin?""===(t=l[r].remoteHost)||"file://"===t?"*":t:"*"}(n),y(r,"IFrame scrolling "+(l[r].scrolling?"enabled":"disabled")+" for "+r),e.style.overflow=!1===l[r].scrolling?"hidden":"auto",e.scrolling=!1===l[r].scrolling?"no":"yes",function(){function n(n){1/0!==l[r][n]&&0!==l[r][n]&&(e.style[n]=l[r][n]+"px",y(r,"Set "+n+" = "+l[r][n]+"px"))}function t(e){if(l[r]["min"+e]>l[r]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}t("Height"),t("Width"),n("maxHeight"),n("minHeight"),n("maxWidth"),n("minWidth")}(),"number"!=typeof l[r].bodyMargin&&"0"!==l[r].bodyMargin||(l[r].bodyMarginV1=l[r].bodyMargin,l[r].bodyMargin=l[r].bodyMargin+"px"),o=N(r),g(e,"load",function(){var n,t;T("iFrame.onload",o,e),n=l[r].firstRun,t=l[r].heightCalculationMethod in u,!n&&t&&C({iframe:e,height:0,width:0,type:"init"})}),T("init",o,e),Function.prototype.bind&&(l[r].iframe.iFrameResizer={close:F.bind(null,l[r].iframe),resize:T.bind(null,"Window resize","resize",l[r].iframe),moveToAnchor:function(e){T("Move to anchor","moveToAnchor:"+e,l[r].iframe,r)},sendMessage:function(e){T("Send Message","message:"+(e=JSON.stringify(e)),l[r].iframe,r)}}))}function S(e,n){null===d&&(d=setTimeout(function(){d=null,e()},n))}function H(e){y("window","Trigger event: "+e),S(function(){A("Window "+e,"resize")},16)}function P(){"hidden"!==document.visibilityState&&(y("document","Trigger event: Visiblity change"),S(function(){A("Tab Visable","resize")},16))}function A(e,n){function t(e){return"parent"===l[e].resizeFrom&&l[e].autoResize&&!l[e].firstRun}for(var i in l)t(i)&&T(e,n,document.getElementById(i),i)}function L(){function n(e,n){n&&(!function(){if(!n.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==n.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+n.tagName+">")}(),W(n,e),t.push(n))}var t;return function(){var n,t=["moz","webkit","o","ms"];for(n=0;n<t.length&&!f;n+=1)f=e[t[n]+"RequestAnimationFrame"];f||y("setup","RequestAnimationFrame not supported")}(),g(e,"message",x),g(e,"resize",function(){H("resize")}),g(document,"visibilitychange",P),g(document,"-webkit-visibilitychange",P),g(e,"focusin",function(){H("focus")}),g(e,"focus",function(){H("focus")}),function(e,i){switch(t=[],typeof i){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(i||"iframe"),n.bind(void 0,e));break;case"object":n(e,i);break;default:throw new TypeError("Unexpected data type ("+typeof i+")")}return t}}e.jQuery&&((n=jQuery).fn?n.fn.iFrameResize=function(e){return this.filter("iframe").each(function(n,t){W(t,e)}).end()}:v("","Unable to bind to jQuery, it is not fully loaded.")),"function"==typeof define&&define.amd?define([],L):"object"==typeof module&&"object"==typeof module.exports?module.exports=L():e.iFrameResize=e.iFrameResize||L()}(window||{});
//# sourceMappingURL=iframeResizer.map

window.onmessage = function(event) {
    var paytr_iframe_id = document.getElementById("paytriframe");

    if (paytr_iframe_id) {
        if (event.data === "expired") {
            location.reload();
        } else if (event.data === "shrink") {
            setTimeout(function () {
                document.getElementById("paytriframe").style.maxHeight = "1200px";
                document.getElementById("paytriframe").style.height = "1000px";
            }, 2000);
            window.scrollTo(0, document.getElementById("paytriframe").getBoundingClientRect().top + window.pageYOffset - 10);
        } else if (event.data === "fastpay") {
            document.getElementById("paytriframe").style.height = "1100px";
            document.getElementById("paytriframe").style.minHeight = "1100px";
            document.getElementById("paytriframe").style.maxHeight = "1100px";
            window.scrollTo(0, document.getElementById("paytriframe").getBoundingClientRect().top + window.pageYOffset - 10);
        } else if (event.data === "bex") {
            document.getElementById("paytriframe").style.height = "650px";
            document.getElementById("paytriframe").style.minHeight = "650px";
            document.getElementById("paytriframe").style.maxHeight = "650px";
            window.scrollTo(0, document.getElementById("paytriframe").getBoundingClientRect().top + window.pageYOffset - 10);
        } else if (event.data === "bex-cancel") {
            document.getElementById("paytriframe").style.height = "850px";
            document.getElementById("paytriframe").style.minHeight = "850px";
            document.getElementById("paytriframe").style.maxHeight = "3000px";
            window.scrollTo(0, document.getElementById("paytriframe").getBoundingClientRect().top + window.pageYOffset - 10);
        } else if (event.data === "grow") {
            document.getElementById("paytriframe").style.maxHeight = "3000px";
        } else if (event.data === "focus_popup") {
            window.scrollTo(0, document.getElementById("paytriframe").getBoundingClientRect().top + window.pageYOffset - 10);
        } else if (event.data === "shrink_eft") {
            document.getElementById("paytriframe").style.maxHeight = "inherit";
            document.getElementById("paytriframe").style.minHeight = "500px";
            document.getElementById("paytriframe").style.height = "500px";
            window.scrollTo(0, document.getElementById("paytriframe").getBoundingClientRect().top + window.pageYOffset - 10);
        }  else if (event.data.message === "shrink_iframe") {
            setTimeout(function () {
                if (event.data.type === "setHeight") {
                    if(event.data.value.height) {
                        document.getElementById("paytriframe").style.height = event.data.value.height;
                    } else {
                        document.getElementById("paytriframe").style.height = event.data.value;
                    }
                    if(!event.data.value.isBankTransfer) {
                        document.getElementById("paytriframe").setAttribute("scrolling", "no");
                    } else {
                        document.getElementById("paytriframe").setAttribute("scrolling", "yes");
                    }
                }
            }, 100);
            //window.scrollTo(0, document.getElementById("paytriframe").getBoundingClientRect().top + window.pageYOffset - 10);
        }
        else if (event.data.message === "pay_drawer_open") {
            setTimeout(function () {
                if (event.data.type === "setScroll") {
                    document.getElementById("paytriframe").scrollIntoView({ block: "center", behavior: "smooth" })
                }
            }, 50);
        }
    }
};

window.onload = function(event) {
    var paytr_iframe_id = document.getElementById("paytriframe");

    if (paytr_iframe_id) {
        document.getElementById("paytriframe").style.minHeight = "600px";
    } else {
        console.log("paytriframe ID'li element bulunamadı!")
    }
};